Инструкции по обновлению с версии 3+
====================================

Сначала нужно удалить старый конфиг и поставить новый:
```
npm uninstall eslint-config-xbsoftware
npm install --save-dev git+https://bitbucket.org/xbsltd/eslint.git#v4.0.0-alpha.3
```

Новая версия конфига требует чтобы конфигурация для eslint хранилась в файле `.eslintrc.js` (а не в `.eslintrc`).
По этому чтобы все работало как раньше нужно переименовать старый `.eslintrc` в `.eslintrc.js`:

```mv .eslintrc .eslintrc.js```

И так как теперь этот файл является js модулем нужно экспортировать конфиг из него, т.е. если раньше в `.eslintrc` было:

```
{
    extends: "eslint-config-xbsoftware/{имя_конфига}"
}
```

то нужно сделать чтобы стало:

```javascript
module.exports = {
    extends: "eslint-config-xbsoftware/{имя_конфига}"
}
```

Так же в новой версии больше нет конфигов **1__double_quotes_and_tabs.js** и **2__single_quotes_and_spaces** - каждый может сам
выбрать какие кавычки и отступы использовать.
Нужно подключить конструктор конфига и константы параметров:
```javascript
const xbsEslint = require('eslint-config-xbsoftware'); // <- конструктор
const {INDENT, QUOTES, PLUGINS} = require('eslint-config-xbsoftware/constants'); // <- конснанты

module.exports = {
    extends: "eslint-config-xbsoftware/{имя_конфига}"
}
```
После этого пользователям старого конфига **1__double_quotes_and_tabs.js** нужно заменить `"eslint-config-xbsoftware/1__double_quotes_and_tabs"` на:
```javascript
    xbsEslint({
        config: {
            indent: INDENT.TABS,
            quotes: QUOTES.DOUBLE
        }
    })
```
А пользователям старого конфига **2__single_quotes_and_spaces** нужно заменить `"eslint-config-xbsoftware/2__single_quotes_and_spaces"` на:
```javascript
    xbsEslint({
        config: {
            indent: INDENT.SPACES_4,
            quotes: QUOTES.SINGLE
        }
    })
```

После этого все должно работать так же как и раньше (кроме некоторых правил которые были включены в новой версии, см. CHANGELOG.md)


Как установить
==================

1. Установить зависимости:
  
   Основные (устанавливаются в любом случае):
   
   ```npm install --save-dev eslint eslint-plugin-import```

   Если проект на реакте то еще нужно установить:

   ```npm install --save-dev eslint-plugin-jsx-a11y eslint-plugin-react eslint-plugin-react-hooks```

   Если проект использует typescript то еще нужно установить:
   
   ```npm install --save-dev @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-import-resolver-typescript``` 

2. Устновить сам конфиг:

   ```npm install --save-dev git+https://bitbucket.org/xbsltd/eslint.git#v4.0.0-alpha.3```

3. В корне проекта создать файл .eslintrc.js в котором подключить конфиг и передать ему нужные параметы (список доступных параметров см. в разделе "Параметры" ниже):
 
```javascript
    const xbsEslint = require('eslint-config-xbsoftware');
    const {INDENT, QUOTES, PLUGINS} = require('eslint-config-xbsoftware/constants');
   
    module.exports = {
        extends: [
            xbsEslint({
                config: {
                    indent: INDENT.SPACES_4, // <- использовать отступ в 4 пробела
                    quotes: QUOTES.SINGLE // <- использовать одинарные кавычки
                },
                plugins: [
                    PLUGINS.CORE,
                    // PLUGINS.REACT, // <- раскомментировать чтобы включить eslint правила для React
                    // PLUGINS.TYPESCRIPT // <- раскомментировать чтобы включить eslint правила для Typescript
                ]
            })
        ]
    };
```

Параметры
==================

Конструктор xbsEslint принимает объект у которого может быть только 3 свойства - config, plugins и env

#### env

Определяет окружение в котором запускается eslint. Может быть development и production. Применение development позволяет
сменить уровень строгости некоторых правил с error на warn. Применяется для того чтобы неудобные в разработке правила
(например [no-debugger](https://eslint.org/docs/rules/no-debugger)) не "валили" сборку
(например при использовании [create-react-app](https://create-react-app.dev/)).
Примеры использования:
```javascript
// При использовании create-react-app:
module.exports = {
    extends: [
      xbsEslint({
         env: process.env.NODE_ENV, // <- использовать текущую переменную окружения
         config: { /*...*/ },
         plugins: [ /*...*/ ]
      })
   ]
};
```

```javascript
// Всегда испльзовать только development правила:
const {ENVS} = require('eslint-config-xbsoftware/constants');

module.exports = {
   extends: [
      xbsEslint({
         env: ENVS.DEVELOPMENT,
         config: { /*...*/ },
         plugins: [ /*...*/ ]
      })
   ]
};
```


#### config

Объект со следующими свойствами:

| Параметр 	| Возможные значения   	| Значение по умолчанию 	|
|----------	|----------------------	|-----------------------	|
| indent   	| 'tab', number      	| 4                     	|
| quotes   	| 'single', 'double' 	| 'single'              	|

#### plugins

Массив дополнительных плагинов. Используется когда нужно подключить дополнительные eslint правила, например для React или Typescript.

Возможные значения: 'core', 'react', 'typescript'
